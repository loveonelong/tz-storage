!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).storage=t()}(this,function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._namespace="",this._defaultValue=null,this._isSupported=this._checkSupported}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!this._isSupported)return!1;e=this._keyHandle(e),t=JSON.stringify({data:t,expire:n});try{return window.localStorage.setItem(e,t),!0}catch(e){return console.error(e,"Type Error: value is not supported."),!1}}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultValue,r=void 0===n?this._defaultValue:n,o=t.type;if(!this._isSupported)return r;e=this._keyHandle(e);var a=JSON.parse(window.localStorage.getItem(e));if(null===a)return r;var i=a.data,u=a.expire,l=(new Date).getTime();if(u&&u<l)return window.localStorage.removeItem(e),r;switch(o){case"string":i="".concat(i);break;case"number":i=+i;break;case"boolean":i=!!i}return null===i?r:i}},{key:"remove",value:function(e){return!!this._isSupported&&(e=this._keyHandle(e),window.localStorage.removeItem(e),!0)}},{key:"_keyHandle",value:function(e){return this._namespace+e}},{key:"_checkSupported",get:function(){return window.localStorage&&(window.localStorage.setItem("tls","ls"),"ls"===window.localStorage.getItem("tls"))}},{key:"isSupported",get:function(){return this._checkSupported}},{key:"namespace",get:function(){return this._namespace},set:function(e){this._namespace=e?"".concat(e,"."):""}},{key:"defaultValue",set:function(e){this._defaultValue=e}}]),e}())});
//# sourceMappingURL=tz-storage.min.js.map
